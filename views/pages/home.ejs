<!-- Hero Section -->
<div
    class="mb-8 sm:mb-12 relative overflow-hidden rounded-[2rem] sm:rounded-[3rem] bg-slate-900 text-white p-6 sm:p-14 text-center sm:text-left">
    <div class="relative z-10 max-w-2xl mx-auto sm:mx-0">
        <span
            class="bg-indigo-500/20 text-indigo-300 px-4 py-1.5 rounded-full text-xs font-bold mb-6 inline-block border border-indigo-500/30 uppercase tracking-widest">Upcoming
            Spotlight</span>
        <h1 class="text-3xl sm:text-6xl font-black mb-6 leading-[1.1]">Campus <span class="text-indigo-400">Tech</span>
            Symposium</h1>
        <p class="text-slate-400 text-base sm:text-xl mb-10 leading-relaxed max-w-lg mx-auto sm:mx-0">Discover
            world-class speakers, innovative workshops, and networking opportunities right on your campus.</p>
        <div class="flex flex-col sm:flex-row items-center gap-4 justify-center sm:justify-start">
            <button onclick="document.getElementById('event-feed')?.scrollIntoView({behavior: 'smooth'})"
                class="w-full sm:w-auto bg-indigo-600 text-white px-8 py-4 rounded-2xl font-bold hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-600/20 active:scale-95">Explore
                Events</button>
            <a href="/dashboard"
                class="w-full sm:w-auto text-center bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-2xl font-bold border border-white/20 hover:bg-white/20 transition-all active:scale-95">Dashboard</a>
        </div>
    </div>
    <div class="absolute top-0 right-0 w-1/3 h-full opacity-10 pointer-events-none hidden lg:block">
        <i data-lucide="cpu" class="w-96 h-96 text-white -mr-16 -mt-16 transform rotate-12"></i>
    </div>
    <div class="absolute -bottom-24 -right-24 w-64 h-64 bg-indigo-600 rounded-full blur-[100px] opacity-20"></div>
</div>

<!-- Filters & Search Bar -->
<div id="event-feed" class="space-y-6 sm:space-y-8 mb-12">
    <div class="flex flex-col lg:flex-row gap-4 lg:items-center justify-between">
        <div class="relative w-full lg:w-[450px] group">
            <i data-lucide="search"
                class="absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors w-5 h-5"></i>
            <input type="text" name="search" value="<%= searchQuery %>"
                placeholder="Search hackathons, sports, workshops..." hx-get="/"
                hx-trigger="keyup changed delay:500ms, search" hx-target="#event-grid" hx-indicator=".search-indicator"
                hx-push-url="true"
                class="w-full pl-14 pr-6 py-4 bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-indigo-600/10 focus:border-indigo-600 outline-none transition-all shadow-sm font-bold placeholder:text-slate-400">
            <span class="search-indicator htmx-indicator absolute right-5 top-1/2 -translate-y-1/2">
                <i data-lucide="loader-2" class="animate-spin text-indigo-600 w-5 h-5"></i>
            </span>
        </div>

        <div class="flex gap-2 overflow-x-auto pb-2 lg:pb-0 no-scrollbar -mx-4 px-4 lg:mx-0 lg:px-0">
            <% categories.forEach(cat=> { %>
                <button hx-get="/?category=<%= cat %>" hx-target="#event-grid" hx-push-url="true"
                    class="<%= selectedCategory === cat ? 'bg-indigo-600 text-white shadow-xl shadow-indigo-200' : 'bg-white text-slate-600 border-slate-200 hover:border-indigo-300' %> px-6 py-2.5 rounded-xl border text-sm font-bold whitespace-nowrap transition-all active:scale-95">
                    <%= cat %>
                </button>
                <% }) %>
        </div>
    </div>
</div>

<!-- Event Grid -->
<div id="event-grid">
    <%- include('../partials/event-grid', { events, rsvps }) %>
</div>